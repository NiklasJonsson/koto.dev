{% extends "base.html" %}


{% block head %}
<link rel="stylesheet" href="/core_lib.css" />
{% endblock head %}

{% block content %}

<nav class="docs-sidebar" role="navigation">
  <ul class="uk-nav uk-nav-default">
    {% set index = get_section(path="docs/_index.md") %}

    {% for s in index.subsections %}
      {% set subsection = get_section(path=s) %}

      <li class="uk-nav-header">
        <a href="{{ subsection.permalink }}">
          {{ subsection.title }}
        </a>
      </li>

      {% for page in subsection.pages %}

        <li class="{% if current_path == page.path %}uk-active uk-parent{% endif %}">
          <a href="{{ page.permalink }}">
            {{ page.title }}
          </a>

          {% if current_path == page.path %}
            <ul class="uk-nav-sub uk-nav-default">
              {% for h1 in page.toc %}
                {% for h2 in h1.children %}
                  <li>
                    <a href="{{ h2.permalink | safe }}">{{ h2.title }}</a>
                  </li>
                {% endfor %}
              {% endfor %}
            </ul>
          {% endif %}
        </li>
      {% endfor %}

      <li class="uk-nav-divider"></li>
    {% endfor %}
  </ul>
</nav>

<div class="docs-main">
  {% block docscontent %} {% endblock %}
</div>

{% endblock content %}
